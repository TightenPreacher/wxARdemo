{"version":3,"sources":["webpack:///F:/hbtest/demo2/pages/API/image/image.vue?08bc","webpack:///F:/hbtest/demo2/pages/API/image/image.vue?bc1a","webpack:///F:/hbtest/demo2/pages/API/image/image.vue?bb5f","webpack:///F:/hbtest/demo2/pages/API/image/image.vue?1a59","webpack:///F:/hbtest/demo2/pages/API/image/image.vue","webpack:///F:/hbtest/demo2/pages/API/image/image.vue?c1d8","webpack:///F:/hbtest/demo2/pages/API/image/image.vue?bcb7"],"names":["sourceType","sizeType","data","title","imageList","sourceTypeIndex","sizeTypeIndex","countIndex","count","onUnload","methods","sourceTypeChange","e","target","value","sizeTypeChange","countChange","chooseImage","length","isFullImg","isContinue","console","log","uni","success","res","concat","tempFilePaths","fail","err","Promise","showModal","content","confirm","previewImage","current","dataset","src","urls","checkPermission","code","type","permision","isIOS","requestIOS","requestAndroid","status","confirmText","gotoAppSetting"],"mappings":"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","file":"pages/API/image/image.js","sourcesContent":["import { render, staticRenderFns } from \"./image.vue?vue&type=template&id=bd34471c&\"\nimport script from \"./image.vue?vue&type=script&lang=js&\"\nexport * from \"./image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('bd34471c', component.options)\n    } else {\n      api.reload('bd34471c', component.options)\n    }\n    module.hot.accept(\"./image.vue?vue&type=template&id=bd34471c&\", function () {\n      api.rerender('bd34471c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hbtest/demo2/pages/API/image/image.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=template&id=bd34471c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar sourceType = [\n    ['camera'],\n    ['album'],\n    ['camera', 'album']\n]\nvar sizeType = [\n    ['compressed'],\n    ['original'],\n    ['compressed', 'original']\n]\nexport default {\n    data() {\n        return {\n            title: 'choose/previewImage',\n            imageList: [],\n            sourceTypeIndex: 2,\n            sourceType: ['拍照', '相册', '拍照或相册'],\n            sizeTypeIndex: 2,\n            sizeType: ['压缩', '原图', '压缩或原图'],\n            countIndex: 8,\n            count: [1, 2, 3, 4, 5, 6, 7, 8, 9]\n        }\n    },\n    onUnload() {\n        this.imageList = [],\n            this.sourceTypeIndex = 2,\n            this.sourceType = ['拍照', '相册', '拍照或相册'],\n            this.sizeTypeIndex = 2,\n            this.sizeType = ['压缩', '原图', '压缩或原图'],\n            this.countIndex = 8;\n    },\n    methods: {\n        sourceTypeChange: function(e) {\n            this.sourceTypeIndex = e.target.value\n        },\n        sizeTypeChange: function(e) {\n            this.sizeTypeIndex = e.target.value\n        },\n        countChange: function(e) {\n            this.countIndex = e.target.value;\n        },\n        chooseImage: async function() {\n\n\n\n\n\n\n\n\n\n\n            if (this.imageList.length === 9) {\n                let isContinue = await this.isFullImg();\n                console.log(\"是否继续?\", isContinue);\n                if (!isContinue) {\n                    return;\n                }\n            }\n            uni.chooseImage({\n                sourceType: sourceType[this.sourceTypeIndex],\n                sizeType: sizeType[this.sizeTypeIndex],\n                count: this.imageList.length + this.count[this.countIndex] > 9 ? 9 - this.imageList.length :\n                    this.count[this.countIndex],\n                success: (res) => {\n                    this.imageList = this.imageList.concat(res.tempFilePaths);\n                },\n                fail: (err) => {\n\n\n\n\n\n                }\n            })\n        },\n        isFullImg: function() {\n            return new Promise((res) => {\n                uni.showModal({\n                    content: \"已经有9张图片了,是否清空现有图片？\",\n                    success: (e) => {\n                        if (e.confirm) {\n                            this.imageList = [];\n                            res(true);\n                        } else {\n                            res(false)\n                        }\n                    },\n                    fail: () => {\n                        res(false)\n                    }\n                })\n            })\n        },\n        previewImage: function(e) {\n            var current = e.target.dataset.src\n            uni.previewImage({\n                current: current,\n                urls: this.imageList\n            })\n        },\n        async checkPermission(code) {\n            let type = code ? code - 1 : this.sourceTypeIndex;\n            let status = permision.isIOS ? await permision.requestIOS(sourceType[type][0]) :\n                await permision.requestAndroid(type === 0 ? 'android.permission.CAMERA' :\n                    'android.permission.READ_EXTERNAL_STORAGE');\n\n            if (status === null || status === 1) {\n                status = 1;\n            } else {\n                uni.showModal({\n                    content: \"没有开启权限\",\n                    confirmText: \"设置\",\n                    success: function(res) {\n                        if (res.confirm) {\n                            permision.gotoAppSetting();\n                        }\n                    }\n                })\n            }\n\n            return status;\n        }\n    }\n}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}